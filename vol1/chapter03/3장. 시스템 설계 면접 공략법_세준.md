# 시스템 설계 면접 공략법

---

## 1. 시스템 설계 면접이란?
- **정의:** "널리 알려진 제품 X를 설계하라"는 형태의 모호한 문제를 다루는 면접 세션.
- **목적:**
    - 설계 능력뿐만 아니라 협업 능력, 압박 상황에서의 문제 해결 능력, 모호한 문제를 건설적으로 해결하는 능력을 평가.
    - 훌륭한 질문을 던질 수 있는 능력도 중요.
- **면접의 본질:**
    - 시스템 설계 면접은 모호한 문제를 해결하는 과정을 시뮬레이션하며, 최종 설계 결과보다는 과정과 사고 흐름이 중요.
    - 면접관은 지원자가 과도한 엔지니어링이나 완고함 등 부정적인 신호를 보이지 않는지 확인.

---

## 2. 시스템 설계 면접의 4단계 접근법

### **2.1 1단계: 문제 이해 및 설계 범위 확정**
- **목표:** 문제의 요구사항을 명확히 이해하고 모호함을 제거.
- **방법:**
    1. 문제를 곧바로 해결하려 하지 말고 요구사항에 대해 충분히 질문.
    2. 가정과 단위를 명확히 작성.
    3. 요구사항 파악을 위한 질문 예시:
        - 어떤 기능을 만들어야 하는가?
        - 사용자는 얼마나 되는가?
        - 회사가 얼마나 빨리 성장할 것으로 예상되는가?
        - 기존 기술 스택이나 활용 가능한 서비스는 무엇인가?

### **2.2 2단계: 개략적인 설계안 제시 및 동의 구하기**
- **목표:** 전체 시스템에 대한 개략적인 설계안을 제시하고 면접관의 동의를 얻음.
- **방법:**
    1. 설계안의 큰 그림을 화이트보드에 그리기.
        - 주요 컴포넌트: 클라이언트(모바일/웹), API, 웹 서버, 데이터 저장소, 캐시, CDN, 메시지 큐 등.
    2. 시스템의 대략적인 성능 제약사항을 계산하며 설계안의 적합성 검토.
        - 계산 과정은 소리 내어 설명하며, 필요 시 면접관에게 추가 의견을 구함.
    3. 시스템의 구체적인 사용 사례 논의:
        - 설계를 구체화하는 데 도움을 줄 수 있으며, 미처 고려하지 못한 예외 케이스를 발견하는 데 유용.
    4. API 엔드포인트와 데이터베이스 스키마 포함 여부 결정:
        - 문제의 범위에 따라 조정.
        - 큰 시스템 설계 문제라면 생략 가능, 작은 문제라면 포함 가능.

#### **예제: 뉴스피드 시스템 설계**
1. **요구사항 정리 후 개략적인 설계안:**
    - **처리 플로우(Workflow):**
        1. **피드 발행:** 사용자가 포스트를 올리면 데이터가 캐시 및 데이터베이스에 기록되고, 친구의 뉴스피드에 반영됨.
        2. **피드 생성:** 특정 사용자의 뉴스피드는 친구들의 포스트를 시간 역순으로 정렬하여 생성.
    - **구성 요소:**
        - 클라이언트(모바일/웹), API, 로드 밸런서, 캐시, 데이터베이스, 메시지 큐.

2. **설계안 다이어그램 예시:**
    - **피드 발행 플로우:**
        - 사용자의 포스트가 캐시에 저장되고, 친구의 뉴스피드에 반영.
        - 데이터베이스에도 기록.
    - **피드 생성 플로우:**
        - 사용자의 뉴스피드는 친구들의 포스트를 기준으로 생성 및 정렬.

---

### **2.3 3단계: 상세 설계**
- **목표:** 주요 컴포넌트의 구체적인 설계 및 성능 최적화 논의.
- **방법:**
    1. 설계 대상 컴포넌트의 우선순위를 정하기.
        - 병목구간과 성능 개선 가능 지점을 집중적으로 다룸.
    2. 면접관의 요청에 따라 세부적으로 설명.
        - URL 단축 서비스라면 해시 함수 설계.
        - 채팅 시스템이라면 지연시간 최소화 및 사용자 상태 표시.

#### **예제: 뉴스피드 시스템**
1. **피드 발행 플로우 상세 설계:**
    - 사용자가 포스트를 올릴 때:
        1. 포스트 데이터를 캐시 및 데이터베이스에 기록.
        2. 메시지 큐를 통해 친구의 뉴스피드에 반영.

2. **피드 생성 플로우 상세 설계:**
    - 사용자의 뉴스피드 요청 시:
        1. 친구들의 포스트를 시간 역순으로 정렬.
        2. 캐시를 우선적으로 사용하고, 필요 시 데이터베이스에 쿼리.

---

### **2.4 4단계: 마무리**
- **목표:** 설계 요약 및 추가 논의로 면접 종료.
- **방법:**
    1. 설계안 요약:
        - 설계의 핵심 아이디어를 요약하며 면접관의 기억을 환기.
        - 설계 결과를 명확히 전달.
    2. 추가 논의:
        - **병목구간**: 서버 오류나 네트워크 장애 시 시스템 반응.
        - **운영 이슈**: 모니터링, 로그 수집, 시스템 배포 방식.
        - **확장성 고려**: 현재 설계로 천만 사용자 이상을 지원하기 위한 방안 논의.
    3. 미처 다루지 못한 부분 제안:
        - 필수적이지 않지만 추가 개선 가능한 사항을 간단히 언급.

---

### **시간 배분 (45분 기준)**


1. 문제 이해 및 설계 범위 확정: 3~10분
2. 개략적 설계안 제시 및 동의: 10~15분
3. 상세 설계: 10~25분
4. 마무리: 3~5분
