# 4주차 미션. 네이버 웹툰 서비스 설계
## 1단계. 문제 이해 및 설계 범위 확정
- 기능: 웹툰 업로드/조회, 알림, 좋아요, 조회수 집계
  - 하루 대략 100개 웹툰 업로드
  - 사용자 당 하루 평균 3개 웹툰 조회
- 단말: 모바일 앱, 웹 앱
- 사용자: DAU 400만 명
- 지원 형식: jpg, gif
- 용량 제한: 파일 1개 당 5MB, 총 용량 50MB
- 안정성, 규모 확장성, 높은 가용성
### 개략적 추정치
- 총 저장 공간: 100개 웹툰 * 최대 50MB * 365일 = 약 1.8TB/년
- 웹툰 조회 API QPS = 400만명 * 3회 / 24시간 / 3600초 = 약 140
- 최대 QPS = 140 * 2 = 280
## 2단계. 개략적 설계안 제시
- 웹툰 업로드 및 조회 처리하는 웹 서버
- 사용자 데이터, 웹툰 메타데이터, 좋아요 및 조회수, 댓글 등 저장하는 DB
- 웹툰 이미지 파일 저장할 저장소 시스템 (S3)
- 데이터 센터 다중화 및 CDN을 사용한 이미지 로딩 속도 최적화
## 3단계. 상세 설계
### 고려사항
- 로드 밸런서: 트래픽 분산
- 웹 서버: 트래픽 폭증에 scale-out으로 대응
- 메타데이터 DB (RDB)
  - user
  - webtoon
  - like
  - comment
  - 다중화 및 샤딩 정첵
- 웹툰 저장소
  - 클라우드 서비스 활용: S3
  - 가용성 대응 목적 데이터센터 다중화
- CDN: 웹툰 캐싱, 조회 시 CDN에서 조회
### 설계안

<img alt="image" src="https://github.com/user-attachments/assets/95d37280-aade-43cb-a2e6-05cb5cd01166">

- 웹툰 서비스: 업로드 외 기능 제공
- 웹툰 업로드 서비스: 웹툰을 클라우드 저장소에 업로드, DB에 메타 데이터 갱신, 알림 요청
- 웹툰 알림 서비스: 구독한 웹툰에 대한 알림 제공
## 4단계. 마무리
### 추가 고려사항
- 데이터베이스 다중화/샤딩 전략
- 캐싱 전략
- 최근 본 웹툰은 어떻게?
- 피크 타임은 언제일까?
- 병목 지점이 어디일까?
- 오류 시나리오 어떤게 있을까?




### Q&A
- 웹툰 신작 업데이트 시 대규모 캐시 미스 날텐데 어떻게 대처할래?
