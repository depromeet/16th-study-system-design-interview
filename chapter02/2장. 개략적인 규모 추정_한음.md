## 2장 개략적인 규모 추정

- 시스템 설계 면접을 볼 때, 시스템 용량이나 성능 요구사항을 개략적으로 추정해 보라는 요구를 받게 된다
- 따라서 규모 확장성을 표현하는데 필요한 기본기에 능숙해야한다.
- 특히 2의 제곱수나 응답지연 값, 가용성에 관계된 수치들을 잘 이해해야한다

---

### **2의 제곱수**

| 2의 x 제곱 | 근사치           | 이름               | 축약형 |
|------------|------------------|--------------------|--------|
| 2^10       | 1천              | 1킬로바이트        | 1KB    |
| 2^20       | 100만            | 1메가바이트        | 1MB    |
| 2^30       | 10억             | 1기가바이트        | 1GB    |
| 2^40       | 1조              | 1테라바이트        | 1TB    |
| 2^50       | 1000조           | 1페타바이트        | 1PB    |


---

### **응답지연 값**

| 연산명                                       | 시간                      |
|---------------------------------------------|---------------------------|
| L1 캐시 참조                                | 0.5 ns                   |
| 분기 예측 오류                              | 5 ns                     |
| L2 캐시 참조                                | 7 ns                     |
| 뮤텍스 락/언락                              | 100 ns                   |
| 메모리 참조                                 | 100 ns                   |
| Zippy로 1KB 압축                            | 10,000 ns = 10 μs        |
| 1Gbps로 2KB 데이터 전송                     | 20,000 ns = 20 μs        |
| 메모리에서 1MB 데이터 읽기                  | 250,000 ns = 250 μs      |
| 같은 데이터 센터 내에서의 메시지 왕복 지연시간 | 500,000 ns = 0.5 ms      |
| 디스크 탐색                                 | 10,000,000 ns = 10 ms    |
| 네트워크에서 1MB 순차적으로 읽기            | 10,000,000 ns = 10 ms    |
| 디스크에서 1MB 데이터 읽기                  | 30,000,000 ns = 30 ms    |
| 한 패킷의 캘리포니아로부터 네덜란드까지 왕복 지연시간 | 150,000,000 ns = 150 ms |
 
- 이런 결론이 나온다
  - 메모리는 빠르지만 디스크는 느리다
  - 디스크 탐색은 가능한 피해야 한다
  - 단순한 압축 알고리즘은 빠르다
  - 데이터를 인터넷으로 전송하기 전에 압축하는 것이 좋다
  - 데이터 센터들 간에 데이터를 주고 받는데는 시간이 걸린다

---

### **가용성에 관계된 수치들**

| 가용률    | 하루당 장애시간   | 주당 장애시간   | 개월당 장애시간  | 연간 장애시간   |
|-----------|-------------------|-----------------|------------------|-----------------|
| 99%       | 14.40분          | 1.68시간       | 7.31시간        | 3.65일          |
| 99.9%     | 1.44분           | 10.08분        | 43.83분         | 8.77시간        |
| 99.99%    | 8.64초           | 1.01분         | 4.38분          | 52.60분         |
| 99.999%   | 864.00밀리초     | 6.05초         | 26.30초         | 5.26분          |
| 99.9999%  | 86.40밀리초      | 604.80밀리초   | 2.63초          | 31.56초         |

---