# 2장 - 개략적인 규모 추정
- 메모리는 빠르지만 디스크는 아직 느리다.
- 디스크 탐색은 가능한 피해야 한다.
- 단순한 압축 알고리즘은 빠르다.
- 데이터 전송 전 가능하면 압축해라
- 데이터 센터들 간의 데이터를 주고받는 데에는 시간이 걸린다.

## QPS(Query Per Second) 추정치
- 가정
    - 월간 능동 사용자(MAU) : 3억
    - 50% 사용자가 트위터에 매일 접속
    - 평균적으로 2회의 트윗을 올림.
    - 10%는 미디어가 포함
    - 데이터는 5년 간 보관
- 추정, QPS(Query Per Second) 추정치
    - DAU = 3억 * 50% = 1.5억
    - QPS = 1.5억 * 2 트윗 / 24시간 / 60분 / 60초 = 약 3500
    - 최대 QPS = 2 * QPS =  약 7000
- 미디어 저장을 위한 저장소 요구량
    - 평균 트윗 크기
        - tweet_id에 64바이트
        - 텍스트에 140바이트
        - 미디어에 1MB
    - 미디어 저장소 요구량 : 1.5억 * 2 * 10% * 1MB = 30TB / 일
    - 5년간 미디어 보관을 위한 저장소 요구량 : 30TB * 365일 * 5년 = 55PB

## 팁
- 추정치를 계산할 때엔 정확한 값보다는 사고의 과정이 중요하다.
- 올바른 절차를 밟아가고 문제 해결 능력을 보여줘야함.
- 복잡한 계산은 어느정도 근사치를 활용해서 계산하라.
    - 99987/9.1 같은 경우 100000/10 으로 해버려도 괜찮다.
- 가정을 적어둬라
- kb, mb 같은 단위를 작성해둬라
- QPS, 최대 QPS, 저장소 요구량, 캐시 요구량, 서버 수 같은 추정은 미리 연습해둬라.